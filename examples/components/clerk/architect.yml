# Example: Clerk.com Authentication Provider
# A configuration passthrough component for centralizing Clerk auth across an environment.
#
# Clerk is a SaaS authentication platform with no self-hosted option.
# This component centralizes Clerk configuration so dependent applications can:
#   - Access Clerk credentials via dependencies.<name>.outputs.<field>
#   - Share consistent auth configuration across the environment
#
# Usage:
#   1. Deploy this component once per environment
#   2. Have your applications depend on it
#   3. Access values via ${{ dependencies.clerk.outputs.publishable_key }}

variables:
  # Required: Your Clerk instance domain
  domain:
    description: "Clerk frontend API domain (e.g., my-app.clerk.accounts.dev)"
    required: true

  # Required: API keys from your Clerk dashboard
  publishable_key:
    description: "Clerk publishable key (pk_test_... or pk_live_...)"
    required: true

  secret_key:
    description: "Clerk secret key (sk_test_... or sk_live_...)"
    required: true
    sensitive: true

  # Optional: Webhook configuration
  webhook_secret:
    description: "Clerk webhook signing secret for verifying webhook payloads"
    required: false
    sensitive: true

# Outputs expose values to dependent components
# Access via: ${{ dependencies.clerk.outputs.<name> }}
outputs:
  domain:
    description: "Clerk frontend API domain"
    value: ${{ variables.domain }}

  publishable_key:
    description: "Clerk publishable key for frontend SDKs"
    value: ${{ variables.publishable_key }}

  secret_key:
    description: "Clerk secret key for backend verification"
    value: ${{ variables.secret_key }}
    sensitive: true

  webhook_secret:
    description: "Webhook signing secret"
    value: ${{ variables.webhook_secret }}
    sensitive: true

# This component doesn't deploy any infrastructure.
# It serves as a configuration hub for Clerk settings across your environment.
